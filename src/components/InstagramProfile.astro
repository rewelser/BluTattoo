---
interface Props {
  username: string;
  className?: string;
  widthClass?: string; // optional Tailwind width control, e.g. "max-w-3xl w-full"
}

const { username, className = "max-w-3xl", widthClass = "!max-w-3xl !w-full !min-w-auto" } = Astro.props;
const profileUrl = `https://www.instagram.com/${username}/?utm_source=ig_embed&utm_campaign=loading`;
---

{username && (
  <div class={`ig-profile-embed ${className}`}>
    <blockquote
      class={`instagram-media bg-white rounded-lg shadow-md mx-auto ${widthClass}`}
      data-instgrm-permalink={profileUrl}
      data-instgrm-version="14"
    >
      <!-- Instagram replaces this content -->
    </blockquote>

    <script
      is:inline
      src="https://www.instagram.com/embed.js"
      async
      defer
      onload="window.instgrm && window.instgrm.Embeds && window.instgrm.Embeds.process()"
    ></script>
  </div>
)}
