# Uncomment for local editing without GitHub:
# local_backend: true

backend:
  name: github
  repo: rewelser/BluTattoo         # ← change me
  branch: main                             # ← change if not main
  site_domain: blu-tattoo.vercel.app              # ← your production domain (no protocol)
  base_url: https://blu-tattoo.vercel.app         # ← your production URL (with protocol)
  auth_endpoint: oauth                     # ← provided by the integration

media_folder: "public/uploads"
public_folder: "/uploads"

collections:
  - name: "faqs"
    label: "FAQs"
    folder: "src/content/faqs"
    format: "json"
    create: true
    slug: "{{slug}}"
    fields:
      - { name: q, label: Question, widget: string }
      - { name: a, label: Answer, widget: text }
      - { name: sort, label: Sort, widget: number, required: false }

  - name: "artists"
    label: "Artists"
    folder: "src/content/artists"
    create: true
    slug: "{{slug}}"
    media_folder: "/public/uploads/artists"
    public_folder: "/uploads/artists"
    fields:
      - { name: title, label: Name, widget: string }
      - { name: order, label: Order, widget: number, default: 999 }
      - { name: photo, label: Photo, widget: image, required: false }
      - { name: styles, label: Styles, widget: list, required: false }
      - { name: instagram, label: Instagram URL, widget: string, required: false }
      - label: Portfolio Images
        name: images
        widget: list
        required: false
        fields:
          - { name: src, label: Image, widget: image }
          - { name: alt, label: Alt text, widget: string, required: false }
      - { name: bio, label: Short Bio, widget: text, required: false }
      - { name: booking_link, label: Booking URL, widget: string, required: false }
      - { name: body, label: Long Bio (Page Content), widget: markdown, required: false }

  - name: "sitewidePics"
    label: "Sitewide Pics"
    files:
      - name: "header"
        label: "Header"
        file: "src/components/Header.astro"

      - name: "baseLayout"
        label: "Base Layout"
        file: "src/layouts/BaseLayout.astro"

        media_folder: "/public/uploads/misc_images"
        public_folder: "/uploads/misc_images"

        # NEW: Background image (JPG/PNG/etc)
      - name: backgroundImage
        label: Background Image
        widget: image
        required: false
        hint: "Large background image used sitewide."

      # NEW: Site logo (SVG recommended; image widget generally accepts SVGs.
      # If host blocks SVG uploads, switch widget to 'file'.)
      - name: siteLogo
        label: Site Logo (SVG)
        widget: image
        required: false
        hint: "Upload your SVG logo (or PNG)."

  - name: "siteInfo"
    label: "Site Info"
    files:
      - name: "main"
        label: "Main"
        file: "src/content/siteInfo/main.json"
        # If you ever add hero images/logos for site info, you can uncomment below:
        media_folder: "/public/uploads/misc_images"
        public_folder: "/uploads/misc_images"
        fields:
          - { name: address, label: Address, widget: text }
          - { name: phone, label: Phone, widget: string, required: false }
          - label: Hours
            name: hours
            widget: list
            required: false
            fields:
              - { name: label, label: Label, widget: string }
              - { name: value, label: Value, widget: string }
          - label: Promo Banner
            name: promoBanner
            widget: object
            required: false
            fields:
              - { name: enabled, label: Enabled, widget: boolean, default: false }
              - { name: text, label: Text, widget: string }
              - { name: url, label: Link URL, widget: string, required: false }
