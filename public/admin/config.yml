# Uncomment for local editing without GitHub:
# local_backend: true

backend:
  name: github
  repo: rewelser/BluTattoo         # ← change me
  branch: main                             # ← change if not main
  site_domain: blu-tattoo.vercel.app              # ← your production domain (no protocol)
  base_url: https://blu-tattoo.vercel.app         # ← your production URL (with protocol)
  auth_endpoint: oauth                     # ← provided by the integration

media_folder: "public/uploads"
public_folder: "/uploads"

collections:
  - name: "faqs"
    label: "FAQs"
    folder: "src/content/faqs"
    format: "json"
    create: true
    slug: "{{slug}}"
    fields:
      - { name: q, label: Question, widget: string }
      - { name: a, label: Answer, widget: text }
      - { name: sort, label: Sort, widget: number, required: false }

  - name: "artists"
    label: "Artists"
    folder: "src/content/artists"
    create: true
    slug: "{{slug}}"
    media_folder: "/public/uploads/artists"
    public_folder: "/uploads/artists"
    fields:
      - { name: title, label: Name, widget: string }
      - { name: order, label: Order, widget: number, default: 999 }
      - { name: photo, label: Photo, widget: image, required: false }
      - { name: styles, label: Styles, widget: list, required: false }
      - { name: instagram, label: Instagram URL, widget: string, required: false }
      - { name: "instagramUser", label: Instagram Username for page embed, widget: "string", required: false }

      - label: Portfolio Images
        name: images
        widget: list
        required: false
        fields:
          - { name: src, label: Image, widget: image }
          - { name: alt, label: Alt text, widget: string, required: false }
      - { name: bio, label: Short Bio, widget: text, required: false }

      - label: "Square Appointments"
        name: square
        widget: object
        required: false
        collapsed: true
        hint: "Toggle on to show the Square Appointments embed on this artist's page."
        fields:
          - name: enabled
            label: Enabled
            widget: boolean
            default: false
          - name: merchantSlug
            label: Merchant ID
            widget: string
            required: false
            hint: 'From your Square embed snippet (e.g., "jhvsos6zvct0ls").'
            pattern: ['^[a-z0-9-]+$', "Use lowercase letters, numbers, and dashes."]
          - name: locationSlug
            label: Location ID
            widget: string
            required: false
            hint: 'From your Square embed snippet (e.g., "L6GQX5D0KDS8B").'
            pattern: ['^[A-Z0-9-]+$', "Use UPPERCASE letters, numbers, and dashes."]
          - name: label
            label: Button Label
            widget: string
            required: false
            default: "Book an appointment"

      - { name: body, label: Long Bio (Page Content), widget: markdown, required: false }
      - { name: booking_link, label: Backup Booking URL, widget: string, required: false }

  - name: "aftercare"
    label: "Aftercare"
    files:
      - name: "main"
        label: "Aftercare Content"
        file: "src/content/aftercare/main.md"
        format: "frontmatter"
        fields:
          - { name: title, label: Title, widget: string, default: "Aftercare" }
          - { name: body, label: Body, widget: markdown }


  - name: "siteInfo"
    label: "Site Info"
    files:
      - name: "main"
        label: "Main"
        file: "src/content/siteInfo/main.json"
        format: "json"
        fields:
          - { name: address, label: Address (single line), widget: string }
          - { name: phone, label: Phone, widget: string, required: false }
          - { name: email, label: Email, widget: string, required: false }

          - label: Hours
            name: hours
            widget: list
            required: false
            fields:
              - { name: label, label: Day, widget: string }
              - { name: value, label: Hours, widget: string }


  - name: "branding"
    label: "Branding"
    files:
      - name: "branding"
        label: "Logo & Background"
        file: "src/content/branding.json"
        format: "json"
        fields:
          - label: Logo (SVG or PNG, dark version)
            name: logo_dark
            widget: image
            required: true
            hint: "Header logo (dark-on-light version)."
            media_folder: "/public/uploads/misc_images/logos"
            public_folder: "/uploads/misc_images/logos"

          - label: Logo (SVG or PNG, light version)
            name: logo_light
            widget: image
            required: false
            hint: "Header logo (light-on-dark version)."
            media_folder: "/public/uploads/misc_images/logos"
            public_folder: "/uploads/misc_images/logos"

  - name: "home"
    label: "Homepage"
    files:
      - name: "main"
        label: "Homepage Content"
        file: "src/content/home/main.json"
        format: "json"
        fields:
          - label: "Promo (main)"
            name: promoMain
            widget: object
            required: false
            collapsed: true
            hint: "Toggle on to put a promo image on the home page."
            fields:
              - { name: promoEnabled, label: "Enable Promo", widget: boolean, default: true }

              - label: "Promo Image"
                name: promoImage
                widget: image
                required: false
                media_folder: "/public/uploads/promos"
                public_folder: "/uploads/promos"
                hint: "Recommended: wide image (e.g. 1600×900+)"

              - { name: promoAlt, label: "Image Alt Text", widget: string, required: false }
              
  - name: "events"
    label: "Events"
    folder: "src/content/events"
    create: true
    # slug: "{{slug}}"
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    format: "frontmatter"
    fields:
      - { name: title, label: Title, widget: string }
      - { name: published, label: Published, widget: boolean, default: true }
      - { name: featured, label: Featured, widget: boolean, required: false, default: false }

      - { name: startDate, label: Start Date, widget: datetime }
      - { name: endDate, label: End Date, widget: datetime, required: false }
      - { name: location, label: Location, widget: string, required: false }

      - label: "Hero (Events page)"
        name: hero
        widget: object
        required: false
        collapsed: true
        fields:
          - label: "Hero Image"
            name: image
            widget: image
            required: false
            media_folder: "/public/uploads/events"
            public_folder: "/uploads/events"
          - { name: alt, label: Image Alt Text, widget: string, required: false }

      - label: "Promo Bar (optional)"
        name: promoBar
        widget: object
        required: false
        collapsed: true
        fields:
          - { name: enabled, label: Enable Promo Bar, widget: boolean, default: false }
          - { name: message, label: Message, widget: string, required: false }
          - { name: href, label: Link URL, widget: string, required: false }

          - label: "Color 1"
            name: color1
            widget: color
            required: false
            hint: "If only one color is set, bar uses a solid background."

          - label: "Color 2"
            name: color2
            widget: color
            required: false
            hint: "If two colors are set, bar uses a left→right gradient."

      - { name: body, label: Details, widget: markdown, required: false }

